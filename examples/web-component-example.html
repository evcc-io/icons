<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>evcc Icons - Web Component Example</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }

        .example-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .icon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .icon-example {
            text-align: center;
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 4px;
        }

        .icon-example h4 {
            margin: 10px 0 5px 0;
            font-size: 14px;
        }

        .icon-example p {
            margin: 0;
            font-size: 12px;
            color: #666;
        }

        .code-example {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            margin: 10px 0;
        }
    </style>
</head>

<body>
    <h1>evcc Icons - Web Component Example</h1>

    <div class="example-section">
        <h2>Basic Usage</h2>
        <div class="icon-grid">
            <div class="icon-example">
                <evcc-icon type="vehicle" name="kia-niro-ev"></evcc-icon>
                <h4>Default</h4>
                <div class="code-example">&lt;evcc-icon type="vehicle" name="kia-niro-ev"&gt;&lt;/evcc-icon&gt;</div>
            </div>
        </div>
    </div>

    <div class="example-section">
        <h2>Custom Colors</h2>
        <div class="icon-grid">
            <div class="icon-example">
                <evcc-icon type="vehicle" name="kia-niro-ev" accent-color="#ff6b35" outline-color="#333"></evcc-icon>
                <h4>Orange & Dark Gray</h4>
                <div class="code-example">&lt;evcc-icon ... accent-color="#ff6b35" outline-color="#333"&gt;</div>
            </div>
            <div class="icon-example">
                <evcc-icon type="vehicle" name="kia-niro-ev" accent-color="#2196f3" outline-color="#1976d2"></evcc-icon>
                <h4>Blue Theme</h4>
                <div class="code-example">&lt;evcc-icon ... accent-color="#2196f3" outline-color="#1976d2"&gt;</div>
            </div>
            <div class="icon-example">
                <evcc-icon type="vehicle" name="kia-niro-ev" accent-color="#e91e63" outline-color="#ad1457"></evcc-icon>
                <h4>Pink Theme</h4>
                <div class="code-example">&lt;evcc-icon ... accent-color="#e91e63" outline-color="#ad1457"&gt;</div>
            </div>
        </div>
    </div>

    <div class="example-section">
        <h2>Different Sizes</h2>
        <div class="icon-grid">
            <div class="icon-example">
                <evcc-icon type="vehicle" name="kia-niro-ev" size="32px"></evcc-icon>
                <h4>Small (32px)</h4>
                <div class="code-example">&lt;evcc-icon ... size="32px"&gt;</div>
            </div>
            <div class="icon-example">
                <evcc-icon type="vehicle" name="kia-niro-ev" size="64px"></evcc-icon>
                <h4>Medium (64px)</h4>
                <div class="code-example">&lt;evcc-icon ... size="64px"&gt;</div>
            </div>
            <div class="icon-example">
                <evcc-icon type="vehicle" name="kia-niro-ev" size="96px"></evcc-icon>
                <h4>Large (96px)</h4>
                <div class="code-example">&lt;evcc-icon ... size="96px"&gt;</div>
            </div>
        </div>
    </div>

    <div class="example-section">
        <h2>Error Handling</h2>
        <div class="icon-grid">
            <div class="icon-example">
                <evcc-icon type="vehicle" name="non-existent"></evcc-icon>
                <h4>Non-existent Icon</h4>
                <div class="code-example">&lt;evcc-icon type="vehicle" name="non-existent"&gt;</div>
            </div>
            <div class="icon-example">
                <evcc-icon name="kia-niro-ev"></evcc-icon>
                <h4>Missing Type</h4>
                <div class="code-example">&lt;evcc-icon name="kia-niro-ev"&gt;</div>
            </div>
        </div>
    </div>

    <script type="module">
        // Mock SVG registry for demonstration
        const svgRegistry = {
            'vehicle/kia-niro-ev': `<svg width="100%" height="100%" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">
                <path d="M13.577,67.289l-0.184,-1.882c0,0 1.366,-1.318 4.501,-2.32c3.135,-1.002 9.032,-2.685 19.731,-2.7c-0,-0 11.899,-7.339 16.284,-8.694c4.384,-1.356 19.57,-2.894 46.226,0.849l0.009,0.403c-0,0 -1.295,0.642 -2.138,1.43c-0,-0 3.414,2.138 6.668,4.69c0,0 1.168,0.592 1.378,0.995c0.21,0.402 0.195,1.052 0.258,1.174c0.064,0.123 0.256,0.793 0.268,0.994l-0.215,0.167c-0,0 -0.225,2.598 -0.135,4.009c0.089,1.411 1.042,2.035 1.619,2.496c0,-0 0.067,2.603 0.242,4.968c-0,-0 -0.55,2.357 -1.428,2.987c-0.877,0.629 -4.526,1.054 -5.457,1.12c-0.932,0.065 -7.491,2.078 -18.032,1.716c-10.541,-0.363 -36.055,0.117 -44.124,0.097c-8.069,-0.02 -13.222,0.831 -18.927,0.434c-5.704,-0.397 -5.598,-0.891 -5.598,-0.891c0,0 -2.575,-0.394 -2.464,-1.272c0.111,-0.879 0.579,-1.222 0.579,-1.222c0,-0 -0.481,-3.318 -0.45,-5.09c0.032,-1.772 1.389,-4.458 1.389,-4.458Z" style="fill:var(--evcc-accent-color, #4eb84b);"/>
                <path d="M15.305,66.621c0.357,-0.092 1.081,-0.201 2.277,-0.372c1.196,-0.172 2.807,-0.31 3.221,-0.338c0.413,-0.028 0.736,0.176 0.438,0.518c-0.298,0.341 -1.367,1.953 -2.035,3.231c-0.669,1.277 -0.875,1.82 -0.875,1.82c0,0 -1.89,-0.07 -2.286,-0.099c-0.396,-0.028 -0.404,-0.131 -0.485,-0.371c-0.08,-0.239 -0.543,-1.771 -0.543,-1.771c-0,0 -0.641,-0.014 -0.79,0c-0.15,0.015 -0.219,-0.1 -0.232,-0.263c-0.013,-0.163 0.661,-1.704 0.769,-1.939c0.108,-0.235 0.184,-0.324 0.541,-0.416Z" style="fill:#fff;"/>
                <path d="M89.048,53.139c-0,0 3.944,0.49 4.918,0.661c0.974,0.171 1.832,0.358 2.816,1.029c0.985,0.671 4.287,3.17 4.992,3.705c0.706,0.535 0.762,1.27 0.606,1.841c-0.155,0.571 -1.247,4.46 -1.247,4.46c0,-0 -1.205,-1.025 -1.238,-1.664c-0.032,-0.64 0.501,-3.316 0.196,-3.827c-0.305,-0.511 -3.473,-3.696 -5.511,-4.305c-2.037,-0.609 -3.956,-0.738 -4.577,-1.12c-0.621,-0.382 -0.955,-0.78 -0.955,-0.78Z" style="fill:#fff;"/>
                <path d="M13.577,67.289l-0.184,-1.882c0,0 1.366,-1.318 4.501,-2.32c3.135,-1.002 9.032,-2.685 19.731,-2.7c-0,-0 11.899,-7.339 16.284,-8.694c4.384,-1.356 19.57,-2.894 46.226,0.849l0.009,0.403c-0,0 -1.295,0.642 -2.138,1.43c-0,-0 3.414,2.138 6.668,4.69c0,0 1.168,0.592 1.378,0.995c0.21,0.402 0.195,1.052 0.258,1.174c0.064,0.123 0.256,0.793 0.268,0.994l-0.215,0.167c-0,0 -0.225,2.598 -0.135,4.009c0.089,1.411 1.042,2.035 1.619,2.496c0,-0 0.067,2.603 0.242,4.968c-0,-0 -0.55,2.357 -1.428,2.987c-0.877,0.629 -4.526,1.054 -5.457,1.12c-0.932,0.065 -7.491,2.078 -18.032,1.716c-10.541,-0.363 -36.055,0.117 -44.124,0.097c-8.069,-0.02 -13.222,0.831 -18.927,0.434c-5.704,-0.397 -5.598,-0.891 -5.598,-0.891c0,0 -2.575,-0.394 -2.464,-1.272c0.111,-0.879 0.579,-1.222 0.579,-1.222c0,-0 -0.481,-3.318 -0.45,-5.09c0.032,-1.772 1.389,-4.458 1.389,-4.458Z" style="fill:none;stroke:var(--evcc-outline-color, #000);stroke-width:2px;"/>
                <path d="M42.993,62.129c0,-0 7.405,-5.833 13.994,-7.301c6.59,-1.467 25.493,-0.553 25.493,-0.553c-0,0 5.781,4.473 5.792,5.635c0.01,1.162 -0.128,1.286 -0.128,1.286l-45.151,0.933Z" style="fill:#fff;stroke:var(--evcc-outline-color, #000);stroke-width:2px;"/>
                <circle cx="29.943" cy="76.812" r="7.246" style="fill:#fff;stroke:var(--evcc-outline-color, #000);stroke-width:2px;"/>
                <circle cx="92.501" cy="76.812" r="7.246" style="fill:#fff;stroke:var(--evcc-outline-color, #000);stroke-width:2px;"/>
            </svg>`
        };

        // Define the Web Component
        class EvccIcon extends HTMLElement {
            static get observedAttributes() {
                return ['type', 'name', 'accent-color', 'outline-color', 'size', 'width', 'height'];
            }

            constructor() {
                super();
                this.attachShadow({ mode: 'open' });
                this._loading = false;
            }

            connectedCallback() {
                this.render();
            }

            attributeChangedCallback() {
                if (!this._loading) {
                    this.render();
                }
            }

            render() {
                const type = this.getAttribute('type');
                const name = this.getAttribute('name');
                const accentColor = this.getAttribute('accent-color') || '#4eb84b';
                const outlineColor = this.getAttribute('outline-color') || '#000';
                const size = this.getAttribute('size');
                const width = this.getAttribute('width');
                const height = this.getAttribute('height');

                if (!type || !name) {
                    this.shadowRoot.innerHTML = `
                        <style>
                            :host {
                                display: inline-block;
                                font-size: 0.8em;
                                color: #d32f2f;
                            }
                        </style>
                        <span>Both type and name attributes are required</span>
                    `;
                    return;
                }

                const key = `${type}/${name}`;
                const svgContent = svgRegistry[key];

                if (svgContent) {
                    // Build size styles
                    let sizeStyles = '';
                    if (size) {
                        sizeStyles = `width: ${size}; height: ${size};`;
                    } else {
                        if (width) sizeStyles += `width: ${width};`;
                        if (height) sizeStyles += `height: ${height};`;
                    }

                    this.shadowRoot.innerHTML = `
                        <style>
                            :host {
                                --evcc-accent-color: ${accentColor};
                                --evcc-outline-color: ${outlineColor};
                                display: inline-block;
                                ${sizeStyles}
                            }
                            svg {
                                width: 100%;
                                height: 100%;
                            }
                        </style>
                        ${svgContent}
                    `;

                    // Set aria-label for accessibility
                    this.setAttribute('aria-label', `${type} ${name}`);
                    this.setAttribute('role', 'img');
                } else {
                    this.shadowRoot.innerHTML = `
                        <style>
                            :host {
                                display: inline-block;
                                font-size: 0.8em;
                                color: #d32f2f;
                            }
                        </style>
                        <span>Icon not found: ${key}</span>
                    `;
                }
            }
        }

        // Define the custom element
        customElements.define('evcc-icon', EvccIcon);
    </script>
</body>

</html>